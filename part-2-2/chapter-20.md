# IP 클래스 비사용 주소지정 - 클래스 비사용 도메인 간 라우팅 / 슈퍼네팅

인터넷이 성장하면서 클래스 단위 주소 지정 방식에 문제점이 드러났다.
그러한 문제점은 인터넷의 개별 네트워크 관리자에게 많은 유연성을 제공하는 서브넷 주소 지정 방법으로 일부 해결될 수 있었지만, 서브네팅은 범용적인 해결책이 되지 못했다. 그래서 새로운 접근법이 필요했고 주소 클래스라는 개념을 완전히 배제하는 것이 요구 댔다. 그 결과 나온 것이 클래스를 전혀 사용하지 않는 클래스 비사용 도메인간 라우팅이다. (**CIDR**, Classless Inter-Domain Routing)

## 클래스 비사용 IP 주소 지정 방법

서브네팅의 장점 중 하나는 각 기관 내부에만 적용되고 다른 기관에는 보이지 않는 다는 것이다. 각 기관은 다른 기관이 네트워크의 내부에 신경쓰지 않도록 하면서도 자신의 필요에 맞게 네트워크를 구성할 수 있다. 하지만 이 특성은 서브네팅의 방법의 주요 단점이기도 하다. 왜냐하면 기관은 아직도 클래스 기반한 주소 블록을 할당 받기 때문에 클래스 단위 주소 지정의 근본적인 문제점을 그대로 지니고 있기 때문이다.

### 클래스 단위 주소 지정의 문제점

세밀성이 떨어진다. 클래스 B 주소 블록은 65,534개를 사용하지만  클래스 C 주소 블록은 254개만 사용할 수 있다. 254개 보다 많은 수의 IP 주소를 필요로 하는 중규모 기관은 매우 많은 반면 65,534개에 가까운 수의 IP 주소를 필요로 하는 기관은 그리 많지 않다. 이 상황에서 B 클래스 주소 블록을 매우 빠르게 소진되 버리고 C 클래스 주소는 사용율이 적었다.
<font color="red">서브네팅은 이 문제를 해결하는데 도움을 주지 못했다.</font> 왜냐하면 서브네팅은 클래스 단위 주소 블록에서만 동작했기 때문이다. 2,000개의 IP 주소를 필요로 하는 기관이 클래스 B 블록을 요구 했다면 서브네팅으로 효율적으로 내부 네트워크를 관리할수 있겠지만 나머지 주소를 낭비하고 있는 문제를 해결하는데 도움이 되지 않는다.

이 문제를 해결하는 방법은 커다른 B 클래스가 아니라 작은 C 클래스 블록을 여러개 사용하라고 설득하는 것이지만 기관들은 복잡하다는 이유로 거부했다. 그리고 C 클래스 블록을 여러개 사용하는 해결책은 또 다른 문제. 바로 인터넷 라우팅 테이블을 엄청나게 크게 만들었다는 것이다.

### 클래스 단위 주소 지정의 해결책

클래스 단위 주소 지정의 2가지 문제점
- 비효율적인 주소 공간 사용 (많은 주소의 B 클래스를 사용하면 버려지는 IP 주소가 많아질 수 있다)
- 라우팅 테이블의 급격한 증가 (작은 단위의 C 클래스를 많이 사용하면 라우팅이 보관할 내용이 커진다)

클래스 비사용 도메인간 라우팅 (CIDR, Classless Inter-Domain Routing) 의 개념은 단일 네트워크 서브네팅의 개념을 전체 인터넷으로 확장하는 것이다. 본질적으로 <font color="orange">클래스 비사용 주소 지정이란 특정 네트워크를 서브넷으로 분해하는 대신 네트워크를 병합하여 더 큰 슈퍼넷을 만드는 것을 의미한다.</font>

CIDR이 인터넷 라우팅 테이블의 확장 문제를 해결하기 위해 사용한 방법이 바로 네트워크를 슈퍼넷으로 병합하는 것이었다.
CIDR은 한 단계의 서브네팅뿐만 아니라 가변 길이 서브넷 마스킹을 인터넷에 적용한 것이다.

> 클래스 비사용 도메인간 라우팅은 IP 주소지정과 라우팅 체계다. CIDR은 다양한 크기의 유연하고, 다중 단계, 계층 구조로된 네트워크를 위해 고정 주소 클래스를 제거함으로써 클래스 단위 주소지정 방법의 문제점을 해결했다.

### 클래스 비사용 주소지정과 라우팅의 장점

- 효율적인 주소 공간 할당
- 클래스 불균형 제거
- 효율적인 라우팅 항목 관리 (23장에서 자세히 설명)
- 별도의 서브네팅 방법이 필요 없음

> 클래스 주소지정의 방식이 IP 주소의 첫 옥텟을 보고 판단할 수 있는 단순함이었다면, 클래스 비사용 주소지정 방식은 어쩔수 없이 그에 비해 복잡해졌다.


### CIDR 정의

### 주소 블록 표기법

### 기존의 클래스 A,B,C와 연관성

### CIDR  주소지정 예제

